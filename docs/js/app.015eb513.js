(function(){"use strict";var e={1181:function(e,t,o){var n=o(8935),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("Loading"),o("MapYa")],1)},i=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"map"}},[o("Notifications",{attrs:{arr:e.notifications}}),o("yandex-map",{attrs:{settings:e.settings,coords:e.coords,zoom:9},on:{click:e.onClick,"map-was-initialized":e.init}},[o("ymap-marker",{attrs:{coords:e.coords,"marker-id":"1","hint-content":e.address}})],1)],1)},a=[],c=o(1210),u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"notification"}},e._l(e.arr,(function(t){return o("section",{key:t.msg},[o("p",[e._v(e._s(t.msg))]),o("p",[e._v(e._s(t.dist))]),o("p",[e._v(e._s(t.distAir))])])})),0)},l=[],d={name:"Notification",props:{arr:Array}},f=d,p=o(1001),g=(0,p.Z)(f,u,l,!1,null,"2b14b46b",null),h=g.exports,m={components:{yandexMap:c.xR,ymapMarker:c.Jk,Notifications:h},data:()=>({coords:[55.753429006938546,37.63096318866614],settings:{apiKey:"99a2f189-c861-4b8a-90e7-34fa2c7add0e"},address:"Россия, Москва",instance:Object,Router:Object,lineGeoAir:Object,activeRouterDist:"loading...",counter:0,MCARmarks:[],notifications:[]}),methods:{onClick(e){this.coords=e.get("coords");let t=ymaps.geoQuery(this.MCARmarks).getClosestTo(this.coords),o=ymaps.coordSystem.geo.getDistance(this.coords,t.geometry.getCoordinates())/1e3;0===this.counter&&(this.Router=new ymaps.multiRouter.MultiRoute({referencePoints:[e.get("coords"),t]},{boundsAutoApply:!1})),this.counter++,this.Router.model.events.add("requestsuccess",(()=>{let e=this.Router.getActiveRoute();this.activeRouterDist=" "+e.properties.get("distance").text})),this.Router.model.setReferencePoints([this.coords,t]),this.instance.geoObjects.remove(this.lineGeoAir);let n=new ymaps.geometry.LineString([this.coords,t.geometry.getCoordinates()]);this.lineGeoAir=new ymaps.GeoObject({geometry:n}),this.instance.geoObjects.add(this.lineGeoAir),ymaps.geocode(e.get("coords")).then((e=>{this.instance.geoObjects.add(this.Router),this.address=e.geoObjects.get(0).properties.get("metaDataProperty").GeocoderMetaData.text,this.notifications.push({msg:`${this.address}`,dist:`Расстояние по дороге ${this.activeRouterDist}`,distAir:`Расстояние по воздуху ${o.toFixed(2)} км`}),setTimeout((()=>{this.notifications.shift()}),5e3)}))},init(e){this.instance=e;let t=[[55.785017,37.841576],[55.861979,37.765992],[55.898533,37.635961],[55.888897,37.48861],[55.83251,37.395275],[55.744789,37.370248],[55.660424,37.434424],[55.5922,37.526366],[55.574019,37.683167],[55.62913,37.802473],[55.712203,37.837121]];t.map(((e,t)=>{this.MCARmarks[t]=new ymaps.Placemark(e)}))}}},v=m,y=(0,p.Z)(v,s,a,!1,null,null,null),b=y.exports,k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"loader"}},[o("div",{attrs:{id:"blinker"}}),o("p",[e._v("Loading.....")])])}],w={name:"Loading"},O=w,A=(0,p.Z)(O,k,_,!1,null,null,null),R=A.exports,j={name:"App",components:{MapYa:b,Loading:R}};window.onload=()=>{document.getElementById("loader").style.display="none"};var x=j,C=(0,p.Z)(x,r,i,!1,null,null,null),M=C.exports,$=o(563);(0,$.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),n.Z.config.productionTip=!1,new n.Z({render:e=>e(M)}).$mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,i){if(!n){var s=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],i=e[l][2];for(var a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,s=n[0],a=n[1],c=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)var l=c(o)}for(t&&t(n);u<s.length;u++)i=s[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},n=self["webpackChunktest_task_sknebo"]=self["webpackChunktest_task_sknebo"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1181)}));n=o.O(n)})();
//# sourceMappingURL=app.015eb513.js.map