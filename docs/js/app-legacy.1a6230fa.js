(function(){"use strict";var e={1181:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var o=n(8935),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Loading"),n("MapYa")],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"map"}},[n("Notifications",{attrs:{arr:e.notifications}}),n("yandex-map",{attrs:{settings:e.settings,coords:e.coords,zoom:9},on:{click:e.onClick,"map-was-initialized":e.init}},[n("ymap-marker",{attrs:{coords:e.coords,"marker-id":"1","hint-content":e.address}})],1)],1)},a=[],c=(n(6977),n(1249),n(1210)),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"notification"}},e._l(e.arr,(function(t){return n("section",{key:t.msg},[n("p",[e._v(e._s(t.msg))]),n("p",[e._v(e._s(t.dist))]),n("p",[e._v(e._s(t.distAir))])])})),0)},d=[],l={name:"Notification",props:{arr:Array}},f=l,p=n(1001),g=(0,p.Z)(f,u,d,!1,null,"2b14b46b",null),m=g.exports,v={components:{yandexMap:c.xR,ymapMarker:c.Jk,Notifications:m},data:function(){return{coords:[55.753429006938546,37.63096318866614],settings:{apiKey:"99a2f189-c861-4b8a-90e7-34fa2c7add0e"},address:"Россия, Москва",instance:Object,Router:Object,lineGeoAir:Object,activeRouterDist:"loading...",counter:0,MCARmarks:[],notifications:[]}},methods:{onClick:function(e){var t=this;this.coords=e.get("coords");var n=ymaps.geoQuery(this.MCARmarks).getClosestTo(this.coords),o=ymaps.coordSystem.geo.getDistance(this.coords,n.geometry.getCoordinates())/1e3;0===this.counter&&(this.Router=new ymaps.multiRouter.MultiRoute({referencePoints:[e.get("coords"),n]},{boundsAutoApply:!1})),this.counter++,this.Router.model.events.add("requestsuccess",(function(){var e=t.Router.getActiveRoute();t.activeRouterDist=" "+e.properties.get("distance").text})),this.Router.model.setReferencePoints([this.coords,n]),this.instance.geoObjects.remove(this.lineGeoAir);var r=new ymaps.geometry.LineString([this.coords,n.geometry.getCoordinates()]);this.lineGeoAir=new ymaps.GeoObject({geometry:r}),this.instance.geoObjects.add(this.lineGeoAir),ymaps.geocode(e.get("coords")).then((function(e){t.instance.geoObjects.add(t.Router),t.address=e.geoObjects.get(0).properties.get("metaDataProperty").GeocoderMetaData.text,t.notifications.push({msg:"".concat(t.address),dist:"Расстояние по дороге ".concat(t.activeRouterDist),distAir:"Расстояние по воздуху ".concat(o.toFixed(2)," км")}),setTimeout((function(){t.notifications.shift()}),5e3)}))},init:function(e){var t=this;this.instance=e;var n=[[55.785017,37.841576],[55.861979,37.765992],[55.898533,37.635961],[55.888897,37.48861],[55.83251,37.395275],[55.744789,37.370248],[55.660424,37.434424],[55.5922,37.526366],[55.574019,37.683167],[55.62913,37.802473],[55.712203,37.837121]];n.map((function(e,n){t.MCARmarks[n]=new ymaps.Placemark(e)}))}}},h=v,y=(0,p.Z)(h,s,a,!1,null,null,null),b=y.exports,k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loader"}},[n("div",{attrs:{id:"blinker"}}),n("p",[e._v("Loading.....")])])}],w={name:"Loading"},O=w,A=(0,p.Z)(O,k,_,!1,null,null,null),R=A.exports,j={name:"App",components:{MapYa:b,Loading:R}};window.onload=function(){document.getElementById("loader").style.display="none"};var x=j,C=(0,p.Z)(x,r,i,!1,null,null,null),M=C.exports,E=n(563);(0,E.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),o.Z.config.productionTip=!1,new o.Z({render:function(e){return e(M)}}).$mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],i=e[d][2];for(var a=!0,c=0;c<o.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,s=o[0],a=o[1],c=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var d=c(n)}for(t&&t(o);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},o=self["webpackChunktest_task_sknebo"]=self["webpackChunktest_task_sknebo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1181)}));o=n.O(o)})();
//# sourceMappingURL=app-legacy.1a6230fa.js.map